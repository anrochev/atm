Моделирование получения баланса на банкомате

Основные объекты: клиент, банкомат, карта

Основной сценарий:
Клиент вставляет в банкомат карту.
Банкомат считывает карту.
Банкомат проверяет дату, до которой она действительна. Карта действительна.
Банкомат проверяет блокировку карты. Карта не заблокирована.
Клиент вводит пин-код. 
Банкомат проверяет пин-код. Пин-код корректный.
Банкомат отображает меню действий с картой.
Клиент выбирает пункт меню "Получить баланс".
Клиент выбирает валюту для получения баланса.
Банкомат отправляет в базу банка запрос на получение баланса с параметрами "номер карты", "валюта".
Банкомат получает ответ из банка с суммой и валютой баланса.
Банкомат выводит баланс на экран.
Клиент выбирает пункт меню "Вернуть карту"
Банкомат возвращает карту.